<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | eSparkBiz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/login.css">
</head>

<body>
    <%- include('myView/header') -%>
    <section class="mainSection">
        <div class="container">
            <div class="rowSection">               
                <div class="columnS">
                    <div class="divCard">
                        <div class="allInputDiv">
                            <div class="titleCenter">
                                <h3 class="title">Sign In</h3>
                            </div>
                            <p class="text-danger">                              
                            </p>
                            <form method="post" action="/mylogin" id="frm">
                                <div class="rowInput">
                                    <div class="form-outline mb-4">
                                        <input type="email" id="email" name="email" class="form-control form-control-lg"
                                            placeholder="メルーアドレス" name="email" required />
                                        <p id="email_valid"></p>
                                    </div>
                                    <div class="form-outline mb-4">
                                        <input type="password" id="passwo
                                        rd" name="password"
                                            class="form-control form-control-lg" placeholder="パスワード" name="password"
                                            required />
                                        <p id="password_lable"></p>

                                        <div class="boxRow">
                                            <div class="passDivRember">
                                                <input type="checkbox" name="check">
                                                <label class="" for="form3Example8"> ログイン状態を保存する </label>
                                            </div>
                                            <div class="passDivForget">
                                                <label class="" for="form3Example8"> <a href="/forget"> パスワードを忘れた方 </a></label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center pt-3">
                                        <input type="submit" id="submitAll" class="btn btn-warning btn-lg ms-2"
                                            value="ログイン">
                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <%- include('myView/footer') -%>
</body>

<script>
    // async function valid_email(email1) {

    // var status;

    // // submitAll.addEventListener('click', validatePassword())
    // async function validatePassword(e) {
    //     // e.preventDefault();
    //     var frm = document.getElementById('frm');
    //     var useremail = document.getElementById("email").value;
    //     var userPassword = document.getElementById("password").value;
    //     // console.log(userPassword)
    //     // console.log("userEmail", useremail)
    //     let emailValid = await fetch('/validPassword', {

    // var status;

    // // submitAll.addEventListener('click', validatePassword())
    // async function validatePassword(e) {
    //     // e.preventDefault();
    //     var frm = document.getElementById('frm');
    //     var useremail = document.getElementById("email").value;
    //     var userPassword = document.getElementById("password").value;
    //     // console.log(userPassword)
    //     // console.log("userEmail", useremail)
    //     let emailValid = await fetch('/validPassword', {
    //         method: 'post',
    //         headers: {
    //             'Content-Type': 'application/json'
    //         },
    //         body: JSON.stringify({
    //             useremail,
    //             userPassword
    //             useremail,
    //             userPassword
    //         })
    //     })

    //     let nameData1 = await emailValid.json();
    //     status = nameData1.status;
    //     // console.log(status)
    //     let a = 0;
    //     status = nameData1.status;
    //     // console.log(status)
    //     let a = 0;

    //     if (nameData1.status == 404) {
    //     if (nameData1.status == 404) {

    //         document.getElementById("email_valid").innerHTML = "This email id not register."
    //         document.getElementById("email_valid").style.color = "red";
    //         document.getElementById("submitAll").style.pointerEvents = "none";
    //         // console.log('wrong email')
    //         a = 0;

    //     }
    //     if (nameData1.status == 400) {
    //         // console.log('wrong email')
    //         a = 0;

    //     }
    //     if (nameData1.status == 400) {

    //         document.getElementById("password_lable").innerHTML = "Password is incorrect.";
    //         document.getElementById("password_lable").style.color = "red";
    //         document.getElementById("submitAll").style.pointerEvents = "none";
    //         // console.log('wrong email psw')
    //         a = 0;
    //         // console.log('wrong email psw')
    //         a = 0;

    //     }
    //     if (nameData1.status == 200) {
    //     }
    //     if (nameData1.status == 200) {

    //         document.getElementById("email_valid").innerHTML = ""
    //         document.getElementById("password_lable").innerHTML = "";
    //         document.getElementById("submitAll").style.pointerEvents = "";
    //         // console.log('okkk')
    //         a = 1;

    //     }

    //     if (a == 1) {
    //         frm.submit();
    //         // console.log('okkk')
    //         a = 1;

    //     }

    //     if (a == 1) {
    //         frm.submit();
    //     }


    // }
</script>

</html>