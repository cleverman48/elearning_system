<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>edit theme pages</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/login.css">
    <link rel="stylesheet" href="/webix/webix.min.css" type="text/css">
    <link rel="stylesheet" href="/css/add_test.css" type="text/css">
    <link href="/webix/skins/flat.css" rel="stylesheet" type="text/css">
    <script src="/webix/webix.min.js" type="text/javascript"></script>
    <script src="/webix/nicedit.js" type="text/javascript"></script>
</head>

<body>
    <%- include('header') -%>
    <div class="container-fluid bg" id="bg">
        <div class="row">
            <div class="col-6" id="">
                <div class="row" id="webix_toolbar"></div>
                <div class="row" id="webix_info">
                    <div class="row" id="webix_theme_name"></div>
                    <div class="row">
                        <div class="col-3" id="webix_icon" style="display: inline-block;">
                            <div class="row" >
                                <label for="myFileInput">アイコン(100KB以下):</label>
                                <input type="file" id="myFileInput" name="myFileInput" style="width: 80%;height: auto;font-size: 12px;" accept="image/*" required>
                            </div>
                            <div class="row"><img id="myImage"  style="width: 50%;height: auto;margin-top: 5px;" src= <%= theme.image %>  ></div>
                        </div>
                        <div class="col-9">
                            <div class="row" id="webix_period"></div>
                            <div class="row" id="webix_phone_marks"></div>
                            <div class="row" id="webix_answer_suffle"></div>
                            <div class="row" id="webix_unuse_moretime"></div>
                            <div class="row" id="webix_limit"></div>
                        </div>
                    </div>
                </div>
                <div class="row center">
                    <button onclick="showMakeTest(event)"
                        style="width: 60%;height: 40px; background-color: dodgerblue;color: white;border: none;border-radius: 5px;">テストの作成</button>
                </div>
                <div class="row center" id="edit_test_pan" style="background-color: rgb(207, 210, 210);">
                    <div class="row">
                        <div class="col-3 center">
                            <input type="text" id="query" placeholder="質問"  style="width:100%; padding-left: 10px;">
                        </div>
                        <div class="col-4 center">
                            <select class="" name="query_type" id="query_type"
                                style="width: 100%;text-align: center;">
                                <option value="複数選択" selected>複数選択</option>
                                <option value="真/偽">真/偽</option>
                                <option value="穴埋め">穴埋め</option>
                                <option value="複数穴埋め">複数穴埋め</option>
                                <option value="複数回答">複数回答</option>
                                <option value="複数ドロップダウン">複数ドロップダウン</option>
                                <option value="整合">整合</option>
                                <option value="数値による解答">数値による解答</option>
                                <option value="数式問題">数式問題</option>
                                <option value="小論文問題">小論文問題</option>
                                <option value="ファイルアップロード問題">ファイルアップロード問題</option>
                            </select>
                        </div>
                        <div class="col-4 center" style="display: flex;justify-content: right;">
                            点: <input type="number" id="query_marks" placeholder="1"
                                style="width: 30%;text-align: center;margin-left: 10px;">
                        </div>
                    </div>
                    <div class="row " id="first_editor" ></div>
                    <div class="row " id="second_editor" ></div>
                    <div class="row">
                        <div class="col-6">
                            <div class="row center">
                                <input type="text" id="webix_input_possible_answers" style="width: 70%;"
                                    placeholder="possible answers" onkeyup="addPossibleAnswer(event)">
                            </div>
                            <div class="row center" id="possible_answers"></div>
                        </div>
                        <div class="col-6">
                            <div class="row center">
                                <input type="text" id="webix_input_true_answers" style="width: 70%;"
                                    placeholder="true answers" onkeyup="addTrueAnswer(event)">
                            </div>
                            <div class="row center" id="true_answers"></div>
                        </div>
                    </div>
                    <div class="row center" style="display: flex;justify-content: space-around;">
                        <button onclick="addTest()" id = "bt_add"
                            style="width: 30%;height: 40px;background-color: dodgerblue;color: white;border: none;border-radius: 5px;">テスト追加</button>
                        <button onclick="updateTest()" id="bt_update"
                            style="width: 30%;height: 40px;background-color: dodgerblue;color: white;border: none;border-radius: 5px;">テスト修正</button>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="row center">
                    <div class="row" style="width:70%;height: auto; text-align: center;">
                        <h1>問題リスト</h1>
                    </div>
                </div>
                <div class="row center">
                    <div class="row" id="webix_table" style="width:95%;height: auto;"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="id"><%= JSON.stringify(theme) %></div>
    <%- include('footer') -%>
    <script src="/js/edit_test.js" type="text/javascript"></script>
</body>

</html>